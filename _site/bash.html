<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=d2ead7be5e032b4414db8dfc7e38cad0cc952ff3">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Welcome to Ireaneus Linux Cheat Sheets webpage | Linux command line cheat sheets website</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Welcome to Ireaneus Linux Cheat Sheets webpage" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Linux command line cheat sheets website" />
<meta property="og:description" content="Linux command line cheat sheets website" />
<link rel="canonical" href="http://localhost:4000/bash.html" />
<meta property="og:url" content="http://localhost:4000/bash.html" />
<meta property="og:site_name" content="Welcome to Ireaneus Linux Cheat Sheets webpage" />
<script type="application/ld+json">
{"description":"Linux command line cheat sheets website","@type":"WebPage","headline":"Welcome to Ireaneus Linux Cheat Sheets webpage","url":"http://localhost:4000/bash.html","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <header>
      <div class="container">
        <h1>Welcome to Ireaneus Linux Cheat Sheets webpage</h1>
        <h2>Linux command line cheat sheets website</h2>

        <section id="downloads">
          
          <a href="https://github.com/ireaneus/linux-cheat-sheets" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c">### To list all bash commands</span>
Esc + y

<span class="c">#!/usr/bin/env bash</span>
bash my.sh
chmod +x my.sh
./my.sh


<span class="c"># To include a bash script in another bash script</span>
<span class="c"># config.sh</span>
<span class="nv">USERNAME</span><span class="o">=</span><span class="nv">$USER</span>
<span class="nv">EMAIL</span><span class="o">=</span><span class="s2">"username@example.com"</span>

<span class="c"># main.sh</span>
<span class="c">## #!/bin/bash</span>
<span class="c"># Including config.sh, set filename with proper path.</span>
<span class="nb">source </span>config.sh

<span class="nb">echo </span>Welcome <span class="k">${</span><span class="nv">USERNAME</span><span class="k">}</span><span class="o">!</span>
<span class="nb">echo </span>Your email is <span class="k">${</span><span class="nv">EMAIL</span><span class="k">}</span><span class="nb">.</span>


<span class="c"># To implement a for loop:</span>
<span class="k">for </span>file <span class="k">in</span> <span class="o">[[</span> <span class="s2">"ls -l * | wc -l"</span> <span class="o">]]</span><span class="p">;</span>
<span class="k">do 
    </span><span class="nb">echo</span> <span class="nv">$file</span> found<span class="p">;</span>
<span class="k">done</span>


<span class="c"># To implement a case command:</span>
<span class="k">case</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="k">in
    </span>0<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"zero found"</span><span class="p">;;</span>
    1<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"one found"</span><span class="p">;;</span>
    2<span class="p">)</span> <span class="nb">echo</span> <span class="s2">"two found"</span><span class="p">;;</span>
    3<span class="k">*</span><span class="p">)</span> <span class="nb">echo</span> <span class="s2">"something beginning with 3 found"</span><span class="p">;;</span>
<span class="k">esac</span>



<span class="c"># debugging:</span>
<span class="nb">set</span> <span class="nt">-x</span>	<span class="c"># turn on debugging</span>
<span class="nb">set</span> +x	<span class="c"># turn off debugging</span>

<span class="c"># Environment echo commands</span>
<span class="nb">echo</span> <span class="nv">$PATH</span> <span class="nv">$HOME</span> <span class="nv">$UID</span> <span class="k">$(</span>date<span class="k">)</span> <span class="nv">$USER</span>

<span class="c"># Brace Expansion</span>
<span class="nb">echo</span> <span class="o">{</span>1..10..2<span class="o">}</span>
1 3 5 7 9

<span class="nb">echo</span> <span class="o">{</span>A..Z<span class="o">}</span>
A B C D ..

<span class="nb">echo </span>a<span class="o">{</span>A<span class="o">{</span>1,2<span class="o">}</span>,B<span class="o">{</span>3,4<span class="o">}}</span>b

mkdir <span class="nt">-p</span> Projects/<span class="o">{</span>docker,bash,ansible<span class="o">}</span>

<span class="c"># bash cursor movements</span>
ctrl-a	<span class="c"># Move to beginning of line</span>
ctrl-e	<span class="c"># Move to end of line</span>
ctrl-f 	<span class="c"># Move forward one character</span>
ctrl-b	<span class="c"># Move backward one character</span>
alt-f	<span class="c"># Move forward one word</span>
alt-b	<span class="c"># Move backward one word</span>
ctrl-l	<span class="c"># clear screen and move to top left</span>
ctrl-xx	<span class="c"># Move between the beginning of the </span>
	<span class="c"># line, return to start of line and </span>
	<span class="c"># change something then back again</span>

<span class="c"># bash command replacement</span>
<span class="nb">ls </span>anaconda-ks.cfg
vi <span class="o">!!</span>:<span class="err">$</span>

cp anaconda-ks.cfg anaconda-ks.bak
vi <span class="o">!</span>^
<span class="c"># vi anaconda-ks.cfg</span>

<span class="o">!</span><span class="nb">grep</span>	<span class="c"># run the last grep command</span>

	<span class="c"># change something then back </span>

<span class="c"># bash delete text</span>
ctrl-d	<span class="c"># Delete character under the cursor</span>
alt-d 	<span class="c"># Delete all characters after the cursor</span>
ctrl-h	<span class="c"># Delet the character before the cursor</span>

<span class="c"># Completion commands</span>
alt-? 	<span class="c"># Display list of possible combos</span>
alt-<span class="k">*</span> 	<span class="c"># Insert all possible completions</span>

<span class="c"># Declare statements</span>
<span class="nb">declare</span> <span class="nt">-i</span> <span class="nv">NEWVAR</span><span class="o">=</span>123  <span class="c"># Integer only</span>
<span class="nb">declare</span> <span class="nt">-r</span> <span class="nv">NEWVAR</span><span class="o">=</span><span class="s2">"this is readonly"</span>
<span class="nb">declare</span> +i <span class="nv">NEWVAR</span><span class="o">=</span><span class="s2">"string"</span>
<span class="nb">declare</span> <span class="nt">-p</span> NEWVAR 	<span class="c"># print</span>

<span class="c"># Export variables</span>
<span class="nv">$ MYVAR</span><span class="o">=</span><span class="s2">"value"</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="k">${</span><span class="nv">MYVAR</span><span class="k">}</span>
value
<span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'echo ${MYVAR}'</span> <span class="o">&gt;</span> echo.sh
<span class="nv">$ </span>chmod +x echo.sh
<span class="nv">$ </span>./echo.sh 

<span class="nv">$ </span><span class="nb">export </span><span class="nv">MYVAR</span><span class="o">=</span><span class="s2">"value-exported"</span>
<span class="nv">$ </span>./echo.sh 
value-exported

<span class="c">### bash alias ###</span>
<span class="nb">echo</span> <span class="s1">'alias webstat="systemctl status httpd.service"'</span> <span class="o">&gt;&gt;</span> /home/user/.bashrc

<span class="c">###  Running a remote script in bash</span>
<span class="c"># remote_check.sh</span>
<span class="c">#!/bin/bash</span>

<span class="c">##</span>
<span class="c"># BASH script that checks the following:</span>
<span class="c">#	- Memory usage</span>
<span class="c">#	- CPU load</span>
<span class="c">#	- Number of TCP connections</span>
<span class="c"># 	- Kernel version</span>
<span class="c">##</span>

<span class="c">## </span>
<span class="c"># Memory check</span>
<span class="c">##</span>
<span class="nv">server_name</span><span class="o">=</span><span class="k">$(</span>hostname<span class="k">)</span>

<span class="k">function </span>memory_check<span class="o">()</span> <span class="o">{</span>
	<span class="nb">echo</span> <span class="s2">"#######"</span>
	<span class="nb">echo</span> <span class="s2">"The current memory usage on </span><span class="k">${</span><span class="nv">server_name</span><span class="k">}</span><span class="s2"> is: "</span>
	<span class="nb">echo</span> <span class="s2">""</span>
	free <span class="nt">-h</span>
	<span class="nb">echo</span> <span class="s2">"#######"</span>
<span class="o">}</span>

<span class="k">function </span>cpu_check<span class="o">()</span> <span class="o">{</span>
	<span class="nb">echo</span> <span class="s2">"#######"</span>
	<span class="nb">echo</span> <span class="s2">"The current CPU load on </span><span class="k">${</span><span class="nv">server_name</span><span class="k">}</span><span class="s2"> is: "</span>
	<span class="nb">echo</span> <span class="s2">""</span>
	uptime
	<span class="nb">echo</span> <span class="s2">"#######"</span>
<span class="o">}</span>

<span class="k">function </span>tcp_check<span class="o">()</span> <span class="o">{</span>
	<span class="nb">echo</span> <span class="s2">"#######"</span>
	<span class="nb">echo</span> <span class="s2">"Total TCP connection on </span><span class="k">${</span><span class="nv">server_name</span><span class="k">}</span><span class="s2">: "</span>
	<span class="nb">echo</span> <span class="s2">""</span>
	<span class="nb">cat</span> /proc/net/tcp | wc <span class="nt">-l</span>
	<span class="nb">echo</span> <span class="s2">"#######"</span>
<span class="o">}</span>

<span class="k">function </span>kernel_check<span class="o">()</span> <span class="o">{</span>
	<span class="nb">echo</span> <span class="s2">"#######"</span>
	<span class="nb">echo</span> <span class="s2">"The exact Kernel version on </span><span class="k">${</span><span class="nv">server_name</span><span class="k">}</span><span class="s2"> is: "</span>
	<span class="nb">echo</span> <span class="s2">""</span>
	uname <span class="nt">-r</span>
	<span class="nb">echo</span> <span class="s2">"#######"</span>
<span class="o">}</span>

<span class="k">function </span>all_checks<span class="o">()</span> <span class="o">{</span>
	memory_check
	cpu_check
	tcp_check
	kernel_check
<span class="o">}</span>

all_checks

<span class="c"># remote_check.sh</span>

<span class="c">## Running remote_check.sh on remote servers</span>
<span class="k">for </span>server <span class="k">in</span> <span class="k">$(</span><span class="nb">cat </span>servers.txt<span class="k">)</span> <span class="p">;</span> <span class="k">do </span>ssh root@<span class="k">${</span><span class="nv">server</span><span class="k">}</span> <span class="s1">'bash -s'</span> &lt; ./remote_check.sh <span class="p">;</span> <span class="k">done</span>

</code></pre></div></div>

      </section>
    </div>

    
  </body>
</html>
